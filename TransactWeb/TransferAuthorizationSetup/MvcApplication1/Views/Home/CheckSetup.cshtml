@{
    ViewBag.Title = "Check Setup";
}


<script type="text/javascript">


    function getCheckData() {

        var ach = {};

        ach.Name                = $('#Name').val();
        ach.AccountNumber       = $('#AccountNumber').val();
        ach.Amount              = $('#Amount').val();
        ach.Notes               = $('#Notes').val();
        ach.ApproverId          = 'EganC';
        ach.OriginatingSystem   = $('#OriginatingSystem').val();
        ach.ID                  = $('#SeedValue').val();
        
        return ach;
    }


    function SubmitCheck() {

        var data = getCheckData();

        $.ajax({
            type: "POST",
            data: data,
            async: true,
            url: '@Url.Action("AddCheckTransfer")',

            success: function (id) {
                
                SendPushNotification("A new check approval has arrived", "NewCheck", id);
            },

            error: function (e) {

            }
        });
    }
    


    function UpdateCheck() {

        var data = getCheckData();
        
        $.ajax({
            type: "POST",
            data: data,
            async: true,
            url: '@Url.Action("UpdateCheckTransfer")',

            success: function (id) {
                
                SendPushNotification("A Check has been updated", "CheckUpdate", id);
               
            },
        });
    }
    

    function DeleteCheck() {

        var data = getCheckData();

        $.ajax({
            type: "POST",
            data: data,
            async: true,
            url: '@Url.Action("DeleteCheckTransfer")',

            success: function (id) {

                SendPushNotification("A Check has been deleted", "CheckDelete", id);
               
            },

            error: function (e) {

            }
        });
    }
    
    function SendPushNotification(message, type, uniqueId) {

        var notification = {};        
    
        notification.message    = message;
        notification.type       = type;
        notification.uniqueIds  = uniqueId;
  
        $.ajax({
            type: "GET",
            data:notification,
            async: true,
            url: 'http://192.168.1.5/TransferAuthorizationService/SendNotification'
        });
        
        alert('Your check has been submitted');
    }
    
    
    
  
</script>



<table>
    <tr>
        <td>Name</td>
        <td>
            <input type="text" id ="Name"/>
        </td>
    </tr>
    
    <tr>
        <td>Account Number</td>
        <td>
            <input type="text" id ="AccountNumber"/>
        </td>

    </tr>
    
    <tr>
        <td>Amount</td>
        <td>
            <input type="text" id ="Amount"/>
        </td>

    </tr>
    <tr>
        <td>Originating System</td>
        <td>
            <input type="text" id ="Originating System"/>
        </td>

    </tr>
        
    <tr>
        <td>Notes</td>
        <td>
            <input type="text" id ="Notes"/>
        </td>

    </tr>
    
    <tr>
        <td>Seed Value</td>
        <td>
            <input type="text" id ="SeedValue"/>
        </td>
    </tr>
    
    
    <tr>
        <td>
            <button id="Test" type="submit" onclick="SubmitCheck();">Submit</button>
            <button id="Update" type="submit" onclick="UpdateCheck();">Update</button>
            <button id="Delete" type="submit" onclick="DeleteCheck();">Delete</button>
        </td>

    </tr>
        
</table>
   
